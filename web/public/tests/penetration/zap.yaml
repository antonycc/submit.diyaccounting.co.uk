env:
  contexts:
  - excludePaths: []
    name: baseline
    urls:
    - https://submit.diyaccounting.co.uk
    # Core user journey pages
    - https://submit.diyaccounting.co.uk/auth/login.html
    - https://submit.diyaccounting.co.uk/account/bundles.html
    - https://submit.diyaccounting.co.uk/hmrc/vat/submitVat.html
    - https://submit.diyaccounting.co.uk/hmrc/vat/vatObligations.html
    - https://submit.diyaccounting.co.uk/hmrc/vat/viewVatReturn.html
    - https://submit.diyaccounting.co.uk/hmrc/receipt/receipts.html
    # Error pages
    - https://submit.diyaccounting.co.uk/error/403.html
    - https://submit.diyaccounting.co.uk/error/404.html
    - https://submit.diyaccounting.co.uk/error/500.html
    # API endpoints (unauthenticated baseline scan)
    - https://submit.diyaccounting.co.uk/api/v1/healthcheck
  parameters:
    failOnError: true
    progressToStdout: false
jobs:
- parameters:
    enableTags: false
    maxAlertsPerRule: 10
  type: passiveScan-config
- parameters:
    maxDuration: 2
    url: https://submit.diyaccounting.co.uk
  type: spider
- parameters:
    maxDuration: 2
    url: https://submit.diyaccounting.co.uk
  type: spiderAjax
- parameters:
    maxDuration: 0
  type: passiveScan-wait
- parameters:
    format: Long
    summaryFile: /home/zap/zap_out.json
  rules: []
  type: outputSummary
- parameters:
    reportDescription: ''
    reportDir: /zap/wrk/
    reportFile: zap-report.html
    reportTitle: ZAP Scanning Report
    template: traditional-html
  type: report
- parameters:
    reportDescription: ''
    reportDir: /zap/wrk/
    reportFile: zap-report.json
    reportTitle: ZAP Scanning Report
    template: traditional-json
  type: report
