<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DIY Accounting Submit - Add Service</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="submit.css" />
  </head>
  <body>
    <header>
      <div class="header-nav">
        <div class="hamburger-menu">
          <button class="hamburger-btn" onclick="toggleMenu()">â˜°</button>
          <div class="menu-dropdown" id="menuDropdown">
            <a href="index.html">Home</a>
            <a href="activities.html">View Activities</a>
            <a href="services.html">Add Service</a>
          </div>
        </div>
        <div class="auth-section">
          <span class="login-status">Not logged in</span>
          <a href="login.html" class="login-link">Log in</a>
        </div>
      </div>
      <h1>DIY Accounting Submit</h1>
      <p class="subtitle">Submit UK VAT returns to HMRC under Making Tax Digital (MTD)</p>
    </header>

    <div id="mainContent">
      <div class="form-container" style="text-align: center;">
        <h2>Add Service</h2>
        <p>Select a service to add to your account:</p>
        
        <div class="services-list">
          <div class="service-item">
            <h3>HMRC Test API Service</h3>
            <p class="service-description">Connect to HMRC's test environment for development and testing purposes.</p>
            <button type="button" class="btn service-btn" onclick="window.location.href='coming-soon.html'">
              Add HMRC Test API Service
            </button>
          </div>
          
          <div class="service-item disabled">
            <h3>HMRC Production API Service</h3>
            <p class="service-description">Connect to HMRC's production environment for live submissions.</p>
            <button type="button" class="btn service-btn disabled-btn" disabled>
              Add HMRC Production API Service
            </button>
            <p class="coming-soon-text">Coming soon</p>
          </div>
          
          <div class="service-item disabled">
            <h3>Companies House API Service</h3>
            <p class="service-description">Connect to Companies House for company information and filings.</p>
            <button type="button" class="btn service-btn disabled-btn" disabled>
              Add Companies House API Service
            </button>
            <p class="coming-soon-text">Coming soon</p>
          </div>
        </div>
        
        <div style="margin-top: 2em;">
          <button type="button" class="btn" onclick="window.location.href='index.html'" style="background-color: #6c757d; border-color: #6c757d;">Back to Home</button>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-content">
        <div class="footer-left">
          <a href="#" id="viewSourceLink" style="display: none;">view source</a>
        </div>
        <div class="footer-center">
          <p>&copy; 2025 DIY Accounting Limited. Licensed under GPL v3.0</p>
        </div>
      </div>
    </footer>

    <script>
      // Hamburger menu toggle functionality
      function toggleMenu() {
        const dropdown = document.getElementById('menuDropdown');
        dropdown.classList.toggle('show');
      }

      // Close menu when clicking outside
      window.onclick = function(event) {
        if (!event.target.matches('.hamburger-btn')) {
          const dropdown = document.getElementById('menuDropdown');
          if (dropdown.classList.contains('show')) {
            dropdown.classList.remove('show');
          }
        }
      }

      // Load and display view source link
      async function loadViewSourceLink() {
        try {
          const response = await fetch('source.txt');
          if (response.ok) {
            const commitHash = (await response.text()).trim();
            if (commitHash) {
              const currentPage = window.location.pathname.split('/').pop() || 'index.html';
              const githubUrl = `https://github.com/antonycc/submit.diyaccounting.co.uk/blob/${commitHash}/web/public/${currentPage}`;
              const viewSourceLink = document.getElementById('viewSourceLink');
              viewSourceLink.href = githubUrl;
              viewSourceLink.textContent = `view source ${commitHash.substring(0, 7)}`;
              viewSourceLink.style.display = 'inline';
            }
          }
        } catch (error) {
          console.log('Could not load source.txt:', error);
        }
      }

      // Load view source link on page load
      loadViewSourceLink();
    </script>
  </body>
</html>