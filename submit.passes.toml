# submit.passes.toml
# Pass type definitions for DIY Accounting Submit
#
# This file defines the templates for generating invite passes.
# It is read by the GitHub Actions generate-pass workflow and the passAdminPost Lambda
# to populate defaults when creating passes. It is NOT validated at runtime when
# passes are persisted or redeemed - the pass record itself is self-contained.
#
# Pass records store their own bundleId, maxUses, validUntil etc. so this file
# can evolve independently without affecting existing passes.

version = "1.0.0"

# Test access - sandbox API access for developers and testers
[[passTypes]]
id = "test-access"
name = "Test Access"
description = "Access to HMRC Sandbox APIs for testing"
bundleId = "test"
defaultValidityPeriod = "P7D"
defaultMaxUses = 1
requiresEmailRestriction = false

# Day trial - single-day production access for prospective users
[[passTypes]]
id = "day-trial"
name = "Day Trial"
description = "Single-day access to production HMRC APIs"
bundleId = "day-guest"
defaultValidityPeriod = "P1D"
defaultMaxUses = 1
requiresEmailRestriction = false

# Invited guest - month-long access for specific invited users
[[passTypes]]
id = "invited-guest"
name = "Invited Guest"
description = "Month-long access for specific invited users"
bundleId = "invited-guest"
defaultValidityPeriod = "P1M"
defaultMaxUses = 1
requiresEmailRestriction = true

# Resident guest - ongoing free access for specific users (existing DIY customers, partners)
# DIY customers: email support, admin sends a resident-guest pass manually
[[passTypes]]
id = "resident-guest"
name = "Resident Guest"
description = "Ongoing free access for specific users"
bundleId = "resident-guest"
# No defaultValidityPeriod = unlimited
defaultMaxUses = 1
requiresEmailRestriction = true

# Resident pro (complimentary) - gifted pro access for beta testers and partners
[[passTypes]]
id = "resident-pro-comp"
name = "Resident Pro (Complimentary)"
description = "Complimentary pro subscription for beta testers and partners"
bundleId = "resident-pro-comp"
defaultValidityPeriod = "P1Y"
defaultMaxUses = 1
requiresEmailRestriction = true

# Group invite - shareable invite for workshops, events, promotions
[[passTypes]]
id = "group-invite"
name = "Group Invite"
description = "Shareable invite for multiple users"
bundleId = "invited-guest"
defaultValidityPeriod = "P1M"
defaultMaxUses = 10
requiresEmailRestriction = false

# Campaign - user-issued passes for referral campaigns (Phase 6)
# Costs 10 tokens to issue, valid for 3 days, single use
[[passTypes]]
id = "campaign"
name = "Campaign Invite"
description = "Short-lived shareable invite issued by subscribed users"
bundleId = "invited-guest"
defaultValidityPeriod = "P3D"
defaultMaxUses = 1
requiresEmailRestriction = false
tokenCostToIssue = 10

# Digital pass - time-limited, unlimited capacity
# Short validity (7 days) encourages focused digital campaigns.
# 100 uses allows broad distribution via social media, email, messaging.
# See PLAN_GENERATE_PASS_ACTIVITY.md
[[passTypes]]
id = "digital-pass"
name = "Digital Pass"
description = "Time-limited digital pass for short campaigns (social media, email, QR sharing)"
bundleId = "day-guest"
defaultValidityPeriod = "P7D"
defaultMaxUses = 100
requiresEmailRestriction = false
tokenCostToIssue = 10

# Physical pass - usage-limited, unlimited time
# No time limit means merchandise retains value indefinitely.
# 10 uses discourages sharing while rewarding continued display.
# Designed for t-shirts, mugs, stickers with QR code + 4-word passphrase.
# See PLAN_GENERATE_PASS_ACTIVITY.md
[[passTypes]]
id = "physical-pass"
name = "Physical Pass"
description = "Usage-limited pass for printed merchandise (t-shirts, mugs)"
bundleId = "day-guest"
defaultMaxUses = 10
requiresEmailRestriction = false
tokenCostToIssue = 10
