# .env.simulator
#
# Features:
#   Run behaviour tests entirely locally without ngrok/Docker/real HMRC.
#   HTTP Simulator replaces both OAuth servers and HMRC API.
#   DynamoDB (like) storage via dynalite.
#   No external network dependencies.
DIY_SUBMIT_ENV_FILEPATH=.env.simulator
DOTENV_CONFIG_QUIET=true
ENVIRONMENT_NAME=simulator
DEPLOYMENT_NAME=simulator
DIY_SUBMIT_BASE_URL=http://localhost:3000/

LOG_TO_CONSOLE=true
LOG_TO_FILE=true
CLOUD_TRAIL_ENABLED=

# HTTP Simulator replaces HMRC API
# Point all HMRC API calls to the simulator
HMRC_BASE_URI=http://localhost:9000
HMRC_SANDBOX_BASE_URI=http://localhost:9000
# NOTE: Client IDs are test application credentials - not production secrets
HMRC_CLIENT_ID=uqMHA6RsDGGa7h8EG2VqfqAmv4tV
HMRC_SANDBOX_CLIENT_ID=uqMHA6RsDGGa7h8EG2VqfqAmv4tV
GOOGLE_CLIENT_SECRET_ARN=
HMRC_CLIENT_SECRET_ARN=
HMRC_SANDBOX_CLIENT_SECRET_ARN=
COGNITO_USER_POOL_ID=
COGNITO_CLIENT_ID=
COGNITO_BASE_URI=
USER_SUB_HASH_SALT=local-development-salt-not-for-production
BUNDLE_DYNAMODB_TABLE_NAME=test-bundle-table
RECEIPTS_DYNAMODB_TABLE_NAME=test-receipts-table
HMRC_API_REQUESTS_DYNAMODB_TABLE_NAME=test-hmrc-api-requests-table
HMRC_VAT_RETURN_POST_ASYNC_REQUESTS_TABLE_NAME=test-hmrc-vat-return-post-async-requests-table
HMRC_VAT_RETURN_GET_ASYNC_REQUESTS_TABLE_NAME=test-hmrc-vat-return-get-async-requests-table
HMRC_VAT_OBLIGATION_GET_ASYNC_REQUESTS_TABLE_NAME=test-hmrc-vat-obligation-get-async-requests-table
SQS_QUEUE_URL=none
AWS_ENDPOINT_URL_DYNAMODB=http://127.0.0.1:9001
ACCESS_LOG_GROUP_RETENTION_PERIOD_DAYS=
S3_RETAIN_RECEIPTS_BUCKET=

# Local HTTP server (not via proxy)
TEST_SERVER_HTTP_PORT=3000
TEST_SERVER_HTTP=run
TEST_PROXY=off

# HTTP Simulator configuration
TEST_HTTP_SIMULATOR=run
TEST_HTTP_SIMULATOR_PORT=9000

# HTTP Simulator replaces Docker mock-oauth2-server
TEST_MOCK_OAUTH2=off
TEST_MOCK_OAUTH2_BASE=http://localhost:9000

# Local auth provider
TEST_AUTH_PROVIDER=mock
TEST_AUTH_USERNAME=user
TEST_AUTH_PASSWORD=

# Local DynamoDB still runs (port 9001 to avoid conflict with simulator on 9000)
TEST_DYNAMODB=run
DYNAMODB_PORT=9001

# MFA configuration for fraud prevention headers
TEST_MFA_ENABLED=true
TEST_MFA_TYPE=TOTP
TEST_MFA_TIMESTAMP=2026-01-08T00:09:01Z

# Bundle configuration
TEST_BUNDLE_EXPIRY_DATE=2025-12-31
TEST_BUNDLE_USER_LIMIT=1000
TEST_BUNDLE_MOCK=true
TEST_VAT_OBLIGATIONS={}
TEST_VAT_RETURN={}
